<!DOCTYPE html>
<html lang="en">
<style type="text/css">
    .queryTable {
        position: absolute;
        left: 111px;
        top: 222px
    }

    .btn1 {
        position: absolute;
        left: 45%;
        top: 50%;
    }

    .btn2 {
        position: absolute;
        left: 55%;
        top: 50%;
    }
</style>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="queryTable">
    <form action="/toInfoTable" method="get" class="">
        Author：
        <select id="creditTo" name="creditToId">

        </select>
        Date：
        <select id="createDate" name="createDateId">

        </select>
        Country：
        <select id="createCountry" name="createCountryId">

        </select>
        City：
        <select id="createCity" name="createCityId">

        </select>
        Theme：
        <select id="theme" name="themeId">

        </select>
        Figure：
        <select id="figure" name="figureId">

        </select>
        <input type="submit" value="query" style="background-color: lawngreen">
    </form>
    <br>
    <br>
    <br>
    <button class="btn1">
        <a href="/toEditOption">edit options</a>
    </button>
    <button class="btn2">
        <a href="/toAddPhoto">upload a photo</a>
    </button>
</div>
</body>
<!--<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>-->
<script type="text/javascript" src="jquery-3.5.1.min.js"></script>
<script>
    $(document).ready(function () {
        $.post(
            "/loadOption",

            function (returnData) {
                let optionMap = JSON.parse(returnData);
                console.log(optionMap);
                console.log(optionMap.creditTo);
                console.log(optionMap.creditTo[1]);
                initializeOption(optionMap);
            });
    });

    function initializeOption(optionMap) {
        let html = "<option disabled selected>" + "---Please select---" + "</option>";
        for (itemKey in optionMap) {
            let itemVal = optionMap[itemKey];
            let tmpHtml = html;
            for (subItemKey in itemVal) {
                let subItemVal = itemVal[subItemKey];
                tmpHtml += "<option value='" + subItemKey + "'>" + subItemVal + "</option>"
            }
            $("#" + itemKey).html(tmpHtml);
        }
    }
</script>
</html>
